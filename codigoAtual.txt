Create tables:

-- Active: 1764975893585@@127.0.0.1@3306@sistema_petshop
CREATE DATABASE sistema_petshop;
USE sistema_petshop;

-- Especie 
CREATE TABLE ESPECIE (
    id_especie INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(50) NOT NULL
);

-- Pessoa
CREATE TABLE PESSOA (
    id_pessoa INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    cpf VARCHAR(14) NOT NULL,
    telefone VARCHAR(18) NOT NULL,
    email VARCHAR(100) NOT NULL
);

-- Produto
CREATE TABLE PRODUTO (
    id_produto INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(50) NOT NULL,
    descricao TEXT,
    preco DECIMAL(10, 2) NOT NULL,
    estoque INT DEFAULT 1
);

-- Animal 
CREATE TABLE ANIMAL (
    id_animal INT AUTO_INCREMENT PRIMARY KEY,
    id_especie INT NOT NULL,
    Foreign Key (id_especie) REFERENCES ESPECIE(id_especie)
    nome VARCHAR(50) NOT NULL,
    idade TINYINT NOT NULL,
    sexo CHARACTER NOT NULL,
    raca VARCHAR(50) NULL,
    cor VARCHAR(50) NOT NULL,
    porte VARCHAR(50) NOT NULL,
    castrado BOOLEAN NOT NULL,
    vacinado BOOLEAN NOT NULL,
    adotado BOOLEAN DEFAULT FALSE,
);

-- Adocao
CREATE TABLE ADOCAO (
    id_adocao INT AUTO_INCREMENT PRIMARY KEY,
    data_adocao DATETIME DEFAULT CURRENT_TIMESTAMP,
    id_animal INT NOT NULL UNIQUE,
    id_pessoa INT NOT NULL,
    Foreign Key (id_animal) REFERENCES ANIMAL(id_animal),
    Foreign Key (id_pessoa) REFERENCES PESSOA(id_pessoa)
);

-- Venda
CREATE TABLE VENDA (
    id_venda INT AUTO_INCREMENT PRIMARY KEY,
    data_venda DATETIME DEFAULT CURRENT_TIMESTAMP,
    valor_total DECIMAL(10, 2) DEFAULT 0,
    id_pessoa INT,
    Foreign Key (id_pessoa) REFERENCES PESSOA(id_pessoa)
);

-- ItemVenda
CREATE TABLE ITEM_VENDA (
    id_item INT AUTO_INCREMENT PRIMARY KEY,
    qtd INT NOT NULL,
    preco_unit DECIMAL(10, 2) NOT NULL,
    subtotal DECIMAL(10, 2) NOT NULL,
    id_produto INT NOT NULL,
    id_venda INT NOT NULL,
    Foreign Key (id_produto) REFERENCES PRODUTO(id_produto),
    Foreign Key (id_venda) REFERENCES VENDA(id_venda)
);


Inserts:

INSERT INTO ESPECIE (nome) VALUES
('Gato'),
('Cachorro'),
('Coelho'),
('Calopsita');

INSERT INTO PESSOA (nome, cpf, telefone, email) VALUES
('Ester', '187.108.017-74', '(27) 99296-7315', 'estersb@gmail.com'),
('Vandin', '123.321.231-11', '(27) 99715-6574', 'vandinAlvrs@gmail.com');

INSERT INTO PRODUTO (nome, descricao, preco, estoque) VALUES
('Ra√ß√£o Premium 10kg', 'Ra√ß√£o sabor frango para adultos', 150.00, 20),
('Brinquedo Osso', 'Osso de borracha resistente', 25.50, 50),
('Shampoo Pet', 'Shampoo neutro para c√£es e gatos', 35.00, 15),
('Arranhador Gato', 'Torre de sisal para gatos', 200.00, 5);

INSERT INTO ANIMAL (id_especie, nome, idade, sexo, raca, cor, porte, castrado, vacinado, adotado) VALUES
(13, 'Bonitinha', 4, 'F', 'Siam√™s', 'Marrom/Branca', 'M√©dio', true, false, true),
(14, 'Rex', 3, 'M', 'Vira-lata', 'Marrom', 'M√©dio', true, true, false),
(14, 'Mel', 1, 'F', 'Poodle', 'Branca', 'Pequeno', false, true, true),
(13, 'Garfield', 5, 'M', 'Persa', 'Laranja', 'Grande', true, true, false),
(15, 'Pernalonga', 1, 'M', 'Angor√°', 'Branco', 'Pequeno', false, false, false),
(16, 'Falquito', 1, 'M', 'N/A', 'Cinza', 'Pequeno', false, false, false);

INSERT INTO ADOCAO (data_adocao, id_animal, id_pessoa) VALUES
('2023-10-25 10:00:00', 21, 6);

INSERT INTO VENDA (data_venda, valor_total, id_pessoa) VALUES
('2023-10-26 14:30:00', 201.00, 6); 

INSERT INTO ITEM_VENDA (qtd, preco_unit, subtotal, id_produto, id_venda) VALUES
(1, 150.00, 150.00, 12, 4),  -- 1 Ra√ß√£o (id 1) na Venda 1
(2, 25.50, 51.00, 11, 4);



Conexion:

import mysql.connector
from src.utils.config import db_config


class MySQLQueries:
    def __init__(self):
        try:
            self.cnx = mysql.connector.connect(**db_config)
            self.cursor = self.cnx.cursor()
            print("Conex√£o estabelecida com sucesso!")

        except mysql.connector.Error as err:
            print(f"Erro ao conectar com o banco de dados: {err}")

    def execute_select(self, query):
        try:
            self.cursor.execute(query)
            return self.cursor.fetchall()

        except mysql.connector.Error as err:
            print(f"Erro ao consultar: {err}")
            return []

    def execute_query(self, query, params=None):
        try:
            if params is None:
                params = ()
            self.cursor.execute(query, params)
            self.cnx.commit()
            return True
        except mysql.connector.Error as err:
            print(f"Erro ao executar: {err}")

    def close(self):
        self.cursor.close()
        self.cnx.close()
        print("Encerrando conex√£o...")


Animal:

from src.utils.validador import Validador
from src.model.Especie import Especie


class Animal:
    def __init__(self, id_animal: int, especie: Especie, nome: str, idade: int, sexo: str, raca: str, cor: str, porte: str, castrado: bool, vacinado: bool, adotado=False) -> None:
        self.id_animal = id_animal
        self.especie = especie
        self.nome = nome
        self.idade = idade
        self.sexo = sexo
        self.raca = raca
        self.cor = cor
        self.porte = porte
        self.castrado = castrado
        self.vacinado = vacinado
        self.adotado = adotado

        # GETTERS & SETTERS

    def get_id_animal(self) -> int:
        return self.id_animal

    def get_especie(self) -> Especie:
        return self.especie

    def get_nome(self) -> str:
        return self.nome

    def get_sexo(self) -> str:
        return self.sexo

    def get_raca(self) -> str:
        return self.raca

    def get_cor(self) -> str:
        return self.cor

    def get_porte(self) -> str:
        return self.porte

    def isCastrado(self) -> bool:
        return self.castrado

    def isVacinado(self) -> bool:
        return self.vacinado

    def set_nome(self, nome: str):
        self.nome = nome

    def set_sexo(self, sexo: str):
        self.sexo = sexo

    def set_raca(self, raca: str):
        self.raca = raca

    def set_cor(self, cor: str):
        self.cor = cor

    def set_porte(self, porte: str):
        self.porte = porte

    def set_castrado(self, castrado: bool):
        self.castrado = castrado

    def set_vacinado(self, vacinado: bool):
        self.vacinado = vacinado

    # OUTROS M√âTODOS

    def disponivel(self):
        return not self.adotado

    def adotar(self):
        self.adotado = True

    def __str__(self) -> str:
        larg = 60
        rodape = f"ID: {self.id_animal}".rjust(larg)

        return f"""
        ------------------------------------------------------------
        üêæ {self.nome.upper()} - {str(self.especie).upper()}
        ------------------------------------------------------------
        {'DISPON√çVEL' if self.disponivel() else 'ADOTADO'}

        Idade: {self.idade} anos | Sexo: {self.sexo.upper()}
        Ra√ßa: {self.raca} | Cor: {self.cor} | Porte: {self.porte}
        Castrado: {'Sim' if self.castrado else 'N√£o'} | Vacinado: {'Sim' if self.vacinado else 'N√£o'}
        
        {rodape}
        ------------------------------------------------------------
        """


Especie:

from src.utils.validador import Validador


class Especie:

    def __init__(self, nome) -> None:
        if not Validador.isEmpty(nome):
            raise ValueError("O nome n√£o pode ser vazio!")
        else:
            self.nome = nome

    def get_nome(self):
        return self.nome

    def set_nome(self, nome):
        self.nome = nome

    def __str__(self):
        return f"{self.nome}"


Pessoa:

from src.utils.validador import Validador


class Pessoa:
    def __init__(self, id_pessoa: int, nome, cpf, telefone, email) -> None:
        self.id_pessoa = id_pessoa
        self.nome = nome
        self.cpf = cpf
        self.telefone = telefone
        self.email = email

    # GETTERS & SETTERS

    def get_id_pessoa(self) -> int:
        return self.id_pessoa

    def get_nome(self) -> str:
        return self.nome

    def get_cpf(self) -> str:
        return self.cpf

    def set_telefone(self, telefone: str):
        self.telefone = telefone

    def get_telefone(self) -> str:
        return self.telefone

    def set_email(self, email: str):
        self.email = email

    def get_email(self) -> str:
        return self.email

    # OUTROS M√âTODOS

    def __str__(self):
        return f"{self.nome} - CPF: {self.cpf}\nTelefone: {self.telefone} | E-mail: {self.email}"



Teste:

from src.conexion.mysql_queries import MySQLQueries
from src.model.Animal import Animal
from src.model.Especie import Especie  # Importante importar o Enum se for usar

banco = MySQLQueries()
resultado = banco.execute_select("SELECT * FROM ANIMAL")

print("\n--- LISTA DE ANIMAIS ---")

for linha in resultado:
    # AQUI EST√Å O SEGREDO: Convertemos tudo "na for√ßa" para o tipo certo using int(), str(), etc.
    # Isso faz o erro vermelho sumir e garante que o dado entre limpo.

    # Conferindo a ordem baseada no seu print: (19, 'Bonitinha', 4, 'F', 'Siam√™s'...)
    novo_animal = Animal(
        id_animal=int(linha[0]),        # For√ßamos virar INT
        nome=str(linha[1]),             # For√ßamos virar STRING
        # For√ßamos virar INT (resolve o erro da idade!)
        idade=int(linha[2]),
        sexo=str(linha[3]),
        raca=str(linha[4]),
        cor=str(linha[5]),
        porte=str(linha[6]),

        # O banco devolve 1 ou 0, o bool() transforma em True ou False
        castrado=bool(linha[7]),
        vacinado=bool(linha[8]),

        # ATEN√á√ÉO AQUI:
        # Sua classe pede um objeto 'Especie', mas o banco trouxe 'Siam√™s' (Ra√ßa) ou n√∫meros?
        # No seu print, os ultimos numeros s√£o 1 e 13.
        # Vou chutar que a esp√©cie √© o ultimo item ou voc√™ precisa passar um texto provis√≥rio.
        # Se sua classe aceitar string na especie, use str(linha[?]).
        # Se ela exigir a Classe Especie, vamos passar None ou criar uma provis√≥ria por enquanto:
        especie=None,  # <-- Mude isso se souber qual coluna √© a esp√©cie exata

        # L√≥gica para ver se tem a coluna 'adotado'
        adotado=bool(linha[10]) if len(linha) > 10 else False
    )

    print(novo_animal)

